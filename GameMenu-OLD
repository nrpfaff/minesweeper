
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class GameMenu extends GameBoard implements ActionListener {
	
	ImageIcon none = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/empty.png");
	
	public GameMenu(GameBoard b){
		JFrame jfrm = new JFrame("Minesweeper");
		
		jfrm.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		
		jfrm.setLayout(new FlowLayout());
		
		jfrm.setJMenuBar(menuBarCreation());
		jfrm.add(tempgameBoardCreation(b));
		
		jfrm.pack();
		jfrm.setVisible(true);
	}
	
	public JMenuBar menuBarCreation(){
		
		JMenuBar jmb = new JMenuBar();
		
		JMenu jmGame = new JMenu("Game");
		JMenuItem jmiNewGame = new JMenuItem("New Game");
		JMenuItem jmDifficulty = new JMenu("Change Difficulty...");
		JMenuItem jmiExit = new JMenuItem("Exit");
		
		JRadioButtonMenuItem  jmiDiff1 = new JRadioButtonMenuItem("Beginner", true);
		JRadioButtonMenuItem  jmiDiff2 = new JRadioButtonMenuItem("Normal");
		JRadioButtonMenuItem  jmiDiff3 = new JRadioButtonMenuItem("Hard");
		JRadioButtonMenuItem  jmiDiff4 = new JRadioButtonMenuItem("Expert");
		
		ButtonGroup bg = new ButtonGroup();
		
		bg.add(jmiDiff1);
		bg.add(jmiDiff2);
		bg.add(jmiDiff3);
		bg.add(jmiDiff4);
		
		jmDifficulty.add(jmiDiff1);
		jmDifficulty.add(jmiDiff2);
		jmDifficulty.add(jmiDiff3);
		jmDifficulty.add(jmiDiff4);
	
		jmGame.add(jmiNewGame);
		jmGame.add(jmDifficulty);
		jmGame.add(jmiExit);

		JMenu jmHelp = new JMenu("Help");
		JMenuItem jmiAbout = new JMenuItem("About");
		
		jmHelp.add(jmiAbout);
		
		jmb.add(jmGame);	//add to menu bar
		jmb.add(jmHelp);	//
		
		jmiExit.addActionListener(this);
		jmiDiff1.addActionListener(this);
		jmiDiff2.addActionListener(this);
		jmiDiff3.addActionListener(this);
		jmiDiff4.addActionListener(this);
			
		return jmb; //add menu bar to window
	}
	
	public JPanel tempgameBoardCreation(GameBoard b) {
		
		ImageIcon b1 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/1.png");
		ImageIcon b2 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/2.png");
		ImageIcon b3 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/3.png");
		ImageIcon b4 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/4.png");
		ImageIcon b5 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/5.png");
		ImageIcon b6 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/6.png");
		ImageIcon b7 = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/7.png");
		ImageIcon b8 = new ImageIcon ("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/8.png");
		ImageIcon none = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/empty.png");
		ImageIcon mine = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/mine.png");
		
		JPanel board = new JPanel(new GridLayout(b.getBoardRow(), b.getBoardCol(), 2, 2));
		
	    for (int i = 0; i < b.getBoardRow(); i++) {
	        for (int j = 0; j < b.getBoardCol(); j++) {
	        	switch(b.getBoard()[i][j]){
		        	case 1:{
		        		board.add(new JLabel(b1, JLabel.CENTER));
		        		break;
		        	}
		        	case 2: {
		        		board.add(new JLabel(b2, JLabel.CENTER));
		        		break;
		        	}
		        	case 3: {
		        		board.add(new JLabel(b3, JLabel.CENTER));
		        		break;
		        	}
		        	case 4: {
		        		board.add(new JLabel(b4, JLabel.CENTER));
		        		break;
		        	}
		        	case 5: {
		        		board.add(new JLabel(b5, JLabel.CENTER));
		        		break;
		        	}
		        	case 6: {
		        		board.add(new JLabel(b6, JLabel.CENTER));
		        		break;
		        	}
		        	case 7: {
		        		board.add(new JLabel(b7, JLabel.CENTER));
		        		break;
		        	}
		        	case 8: {
		        		board.add(new JLabel(b8, JLabel.CENTER));
		        		break;
		        	}
		        	case 9: {
		        		board.add(new JLabel(mine, JLabel.CENTER));
		        		break;
		        	}
		        	case 0: {
		        		board.add(new JLabel(none, JLabel.CENTER));
		        		break;
		        	}
	        	}//end switch
	        }
	    }//end for
		
	    return board;
		
	}
	
	public JPanel gameBoardCreation(GameBoard b){
		
		ImageIcon space = new ImageIcon("C:/Users/Nolan/workspace/CompSci220/Minesweeper/resources/tile.png");
		
		JPanel board = new JPanel(new GridLayout(b.getBoardRow(), b.getBoardCol()));
		
		JButton tile[][] = new JButton[b.getBoardRow()][b.getBoardCol()];
		
		for (int i = 0; i < b.getBoardRow(); i++) {
	        for (int j = 0; j < b.getBoardCol(); j++) {
	        	
	        	tile[i][j] = new JButton(space);
	        	tile[i][j].setBorder(null);
	        	tile[i][j].addActionListener(this);
	        	board.add(tile[i][j]);
	   
	        }
		}
		
		return board;
	}	

	public void actionPerformed(ActionEvent ae){
		
		String comStr = ae.getActionCommand();
	
		if(comStr.equals("New Game")){

		}
		if(comStr.equals("Exit")){
			System.exit(0);
		}
		if(comStr.equals("Beginner")){
			this.setBoardRow(9);
			this.setBoardCol(9);
			this.setMaxBombs(10);
		}
		if(comStr.equals("Normal")){
			this.setBoardRow(11);
			this.setBoardCol(11);
			this.setMaxBombs(20);
		}
		if(comStr.equals("Hard")){
			this.setBoardRow(13);
			this.setBoardCol(22);
			this.setMaxBombs(50);
		}
		if(comStr.equals("Expert")){
			this.setBoardRow(16);
			this.setBoardCol(30);
			this.setMaxBombs(99);
		}
		if( ae.getSource() instanceof JButton){
		       ((JButton)ae.getSource()).setIcon(none);
		}
	}
}
